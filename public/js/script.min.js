"use strict";!function(t){t.adminForm=function(){function t(){e.length&&n()}function n(){e.change(function(t){var n=$(t.target).closest("[data-client-id]").data("client-id"),e=t.target.dataset.statusIndex;$.post("/",{isAdmin:!0,_id:n,statusIndex:e}).done(function(n){if("nok"===n)alert("Er is een fout opgetreden...");else if("done"===n){var e=$(t.target).closest("[data-client-name]").data("client-name");alert("Klant "+e+" afgehandeld!")}location.reload()})})}var e=$('input[type="radio"]');return{init:t}}()}(window.app=window.app||{}),function(t){t.clientForm=function(){function t(){o&&d.length&&c.length&&n()}function n(){c.click(function(t){var n=$("#client-id").val(),c=o.val(),r=d.val(),l=t.target.dataset.submitType,s=e(c,r);"submit"===l&&s?i(n,c,r):"refresh"===l&&a(n)})}function e(t,n){var e=!0;return o.removeClass("invalid"),d.removeClass("invalid"),t||(e=!1,o.addClass("invalid")),n||(e=!1,d.addClass("invalid")),e}function i(t,n,e){$.post("/",{isAdmin:!1,_id:t,date:n,time:e}).done(function(t){"nok"===t?alert("Er is een fout opgetreden..."):alert("Datum en tijdstip doorgegeven!"),location.reload()})}function a(t){$.post("/",{isAdmin:!1,refresh:!0,_id:t}).done(function(t){"nok"===t&&alert("Er is een fout opgetreden..."),location.reload()})}var o=$(".datepicker"),d=$(".timepicker"),c=$(".js-client-submit");return{init:t}}()}(window.app=window.app||{}),function(t){t.datetimepicker=function(){function t(){i.length&&(n(),e())}function n(){i.pickadate({selectMonths:!0,selectYears:2,today:"Today",clear:"Clear",close:"Ok",closeOnSelect:!1})}function e(){a.pickatime({default:"now",fromnow:0,twelvehour:!1,donetext:"OK",cleartext:"Clear",canceltext:"Cancel",autoclose:!1,ampmclickable:!0,aftershow:function(){}})}var i=$(".datepicker"),a=$(".timepicker");return{init:t}}()}(window.app=window.app||{}),function(t){t.init=function(){t.datetimepicker.init(),t.clientForm.init(),t.adminForm.init()}}(window.app=window.app||{}),"loading"!==document.readyState?window.app.init():document.addEventListener("DOMContentLoaded",window.app.init);